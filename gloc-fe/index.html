<!DOCTYPE html>
<html lang="en">
<head>
    <title>FaceAPI Live WebCam Demo</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, shrink-to-fit=yes">
    <meta name="application-name" content="FaceAPI">
    <meta name="keywords" content="FaceAPI">
    <meta name="description"
          content="FaceAPI: AI-powered Face Detection, Description & Recognition for Browser and NodeJS using Tensorflow/JS">
    <meta name="msapplication-tooltip"
          content="FaceAPI: AI-powered Face Detection, Description & Recognition for Browser and NodeJS using Tensorflow/JS">


    <link rel="stylesheet" type="text/css" href="styles.css">
    <link rel="stylesheet" type="text/css" href="./collage/collage.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.7" crossorigin='anonymous'></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_detection" crossorigin='anonymous'></script>
    <!--    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh" crossorigin='anonymous'></script>-->

    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-core" crossorigin='anonymous'></script>

    <!-- You must explicitly require a TF.js backend if you're not using the TF.js union bundle. -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs-backend-webgl" crossorigin='anonymous'></script>
    <script src="./index.js" type="module"></script>

    <script src="faceDetection/faceDetectionSetup.js" type="module"></script>
    <script src="faceDetection/faceDetection.js" type="module"></script>

</head>
<body>
<script async src="./opencv.js" type="text/javascript"></script>

<div id="loading-overlay" class="overlay2" style="display: none;">
    <div class="spinner"></div>
</div>

<div id="overlay">

</div>
<button id="openPanelButton" class="panel-button">&#9776;</button>
<div id="sidePanel" class="side-panel"></div>
<!-- Script to import sidePanel.js and initialize the side panel -->
<script type="module">
    async function fetchSidePanelContent() {
        const response = await fetch('./uiElements/sidePanel.html');
        const sidePanelContent = await response.text();
        document.getElementById('sidePanel').innerHTML = sidePanelContent;
        import('./uiElements/sidePanel.js').then((module) => {
            module.setupSidePanel();
        });
    }

    fetchSidePanelContent()
</script>

<div id="top" style="height: auto;">
    <div id="video-container">
        <video id="video" playsinline  class="video"></video>
        <canvas id="canvas" class="canvas"></canvas>
        <button id="playPauseButton" class="play-pause-button">
            <span id="play-icon"></span>
            <span id="pause-icon"></span>
        </button>
    </div>
    <div id="top-image-container">
    </div>
</div>
<div id="bottom-image-container"></div>
</body>
</html>
